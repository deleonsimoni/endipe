<div class="prog-day mb-2">  
    <b><span>{{day | dayAndMonth}}</span></b>
</div>

<div *ngIf="!carregandoLista && schedules.length > 0">
    <div *ngFor="let schedule of schedules">
        <div class="card-works">
            <div class="row">
                <div class="col-sm-10">
                    <h5 style="color: #50d8af">{{type | modalities}} - {{schedule.axis | axis}}</h5>
                    <h2><b>{{schedule.workTitle}}</b></h2>
                    <h4 *ngFor="let day of schedule.dates">{{day.date + ' ' + day.startTime + ' - ' + day.endTime}}</h4>
                    <h4>{{schedule.qtdSubscribers}} Vagas</h4>

                </div>
                <div class="col-sm-2">
                    <!--<small>STATUS</small>
                    <h4>{{ !subscribed.payment ? 'Não realizou envio' : subscribed.payment.icPaid ? 'Pagamento validado' : subscribed.payment.icValid ? 'Comprovante validado' : 'Aguardando validação'}}
                    </h4>-->

                    <div *ngIf="!carregando">
                        <ng-container *ngIf="!isSubscribe(schedule) && schedule.qtdSubscribers - (schedule.subscribers ? schedule.subscribers.length : 0) > 0">
                            <h4 class="mb-4"><button (click)="signUp(type, schedule)" class="btn btn-inscrever">Inscrever</button></h4>
                        </ng-container>

                        <ng-container *ngIf="(schedule.qtdSubscribers - schedule?.subscribers.length) == 0">
                            <h4 class="mb-4"><button class="btn btn-warning">Vagas Encerradas</button></h4>
                        </ng-container>
                        <ng-container *ngIf="isSubscribe(schedule)">
                            <h4 class="mb-4"><button (click)="cancelSignUp(type, schedule)" class="btn btn-danger">Cancelar Inscrição</button></h4>
                        </ng-container>
                    </div>
                    <div *ngIf="carregando">
                        <h4 class="mb-4"><button class="btn btn-inscrever"><i class="fas fa-spinner fa-pulse"></i></button></h4>
                    </div>


                    <div style="cursor: pointer !important;">
                        <h4 style="position: absolute; bottom: 0; left: 0; cursor: pointer !important;" (click)="selectSchedule(schedule._id);">Mais detalhes <i class="fa fa-chevron-down"></i></h4>
                    </div>
                </div>
            </div>
        </div>

        <div  class="work-content">
            <div *ngIf="schedule._id == scheduleSelect">
                <div  class="row align-items-center">
                    <div class="col-12">
                        <strong>Resumo</strong>
                        <p style="text-align: justify; text-justify: inter-word;">{{ schedule.resumePropose }}</p>
                    </div>
                </div>
            </div>
         </div>

    </div>

    <div *ngIf="pager.totalItems" class="pagination justify-content-center">

        <mat-paginator [length]="pager.totalItems" [pageSize]="pager.pageSize"
          (page)="pageEvent = getSchedulePaginate(day, type, $event)">
        </mat-paginator>
    
      </div>

</div>

<div *ngIf="!carregandoLista && schedules.length == 0">
    <h2><b>Não há {{type | modalities}} para o dia selecionado</b></h2>
</div>

<div *ngIf="carregandoLista" class="row" style="display: flex; justify-content: center; align-items: center; height: 300px;">
    <button type="button" class="btn btn-large btn-primary"><i class="fas fa-spinner fa-pulse ml-1"></i> Aguarde</button>
</div>